import{r as d,j as e}from"./index-DZoorY08.js";import{u as L,b as N}from"./components-CTA1UUXK.js";import{u as R}from"./use-index-resource-state-7IuosbnD.js";import{c as S,P as F,b as o,C as g,I as m,T as h,d as v,B as i,a as t}from"./Page-CO1VPtMw.js";import{T as $}from"./TitleBar-DFMSJ8Yc.js";import{B as C}from"./Banner-DCanv2aO.js";import{L as M}from"./Layout-Drv8ZkBJ.js";import{D as U}from"./Divider-DdX0k3iD.js";import{E as z}from"./EmptyState-by-HQyrj.js";import{I as s}from"./IndexTable-nycHw1tK.js";import{M as r}from"./Modal-vYd8S7dQ.js";import"./context-CVB7tZr2.js";import"./EmptySearchResult-D4D1_l9z.js";import"./Checkbox-drAGhQ4I.js";import"./AfterInitialMount-C-VclerA.js";import"./Sticky-3Wxpi6V4.js";import"./context-BSKof4BJ.js";import"./context-CdsfRJ3p.js";import"./InlineGrid-Bklo_vep.js";const A=(a,c)=>new Intl.NumberFormat("en-US",{style:"currency",currency:c,minimumFractionDigits:2,maximumFractionDigits:2}).format(a),D=a=>new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(new Date(a));function oe(){const{payload:a,useMockData:c,scenario:y}=L();N();const[l,p]=d.useState(null),[V,u]=d.useState(!1),[k,x]=d.useState(!1),[T,j]=d.useState(!1),{selectedResources:f,allResourcesSelected:w,handleSelectionChange:E}=R(a.vendors);a.vendors.map(n=>[n.name,n.email,n.leadTimeDays.toString(),A(n.minimumOrderValue.amount,n.minimumOrderValue.currency),n.paymentTerms,e.jsx(S,{tone:n.isActive?"success":"critical",children:n.isActive?"Active":"Inactive"}),D(n.updatedAt)]);const b=()=>{u(!0)},I=n=>{p(n),x(!0)},O=n=>{p(n),j(!0)},B=n=>{p(n)};return e.jsxs(F,{title:"Vendor Mapping",subtitle:"Manage vendor relationships and SKU mappings for inventory planning.",children:[e.jsx($,{title:"Vendor Mapping"}),e.jsxs(o,{gap:"400",children:[(c||a.alert||a.error)&&e.jsxs(o,{gap:"200",children:[c&&e.jsx(C,{tone:y==="warning"?"warning":"info",title:`Mock state: ${y}`,children:e.jsx("p",{children:"Append `?mockState=warning` (etc) to explore alternate datasets."})}),a.alert&&!a.error&&e.jsx(C,{tone:"warning",title:"Vendor mapping alert",children:e.jsx("p",{children:a.alert})}),a.error&&e.jsx(C,{tone:"critical",title:"Vendor mapping unavailable",children:e.jsx("p",{children:a.error})})]}),e.jsx(M,{children:e.jsx(M.Section,{children:e.jsxs(g,{children:[e.jsx(g,{children:e.jsxs(m,{align:"space-between",blockAlign:"center",children:[e.jsxs(h,{variant:"headingMd",as:"h2",children:["Vendors (",a.vendors.length,")"]}),e.jsx(v,{children:e.jsx(i,{onClick:b,children:"Add vendor"})})]})}),e.jsx(U,{}),e.jsx(g,{children:a.vendors.length===0?e.jsx(z,{heading:"No vendors found",action:{content:"Add your first vendor",onAction:b},image:"https://cdn.shopify.com/s/files/1/0262/4071/2726/files/emptystate-files.png",children:e.jsx("p",{children:"Add vendors to start mapping SKUs and managing inventory relationships."})}):e.jsx(s,{resourceName:{singular:"vendor",plural:"vendors"},itemCount:a.vendors.length,selectedItemsCount:w?"All":f.length,onSelectionChange:E,headings:[{title:"Name"},{title:"Email"},{title:"Lead time (days)"},{title:"Min order value"},{title:"Payment terms"},{title:"Status"},{title:"Last updated"},{title:""}],children:a.vendors.map((n,P)=>e.jsxs(s.Row,{id:n.id,position:P,selected:f.includes(n.id),children:[e.jsx(s.Cell,{children:e.jsxs(o,{gap:"050",children:[e.jsx(h,{variant:"bodyMd",as:"span",children:n.name}),n.phone&&e.jsx(h,{variant:"bodySm",tone:"subdued",as:"span",children:n.phone})]})}),e.jsx(s.Cell,{children:n.email}),e.jsx(s.Cell,{children:n.leadTimeDays}),e.jsx(s.Cell,{children:A(n.minimumOrderValue.amount,n.minimumOrderValue.currency)}),e.jsx(s.Cell,{children:n.paymentTerms}),e.jsx(s.Cell,{children:e.jsx(S,{tone:n.isActive?"success":"critical",children:n.isActive?"Active":"Inactive"})}),e.jsx(s.Cell,{children:D(n.updatedAt)}),e.jsx(s.Cell,{children:e.jsxs(v,{children:[e.jsx(i,{size:"slim",onClick:()=>B(n),children:"View mappings"}),e.jsx(i,{size:"slim",onClick:()=>I(n),children:"Edit"}),e.jsx(i,{size:"slim",tone:"critical",onClick:()=>O(n),children:"Delete"})]})})]},n.id))})})]})})}),e.jsxs(r,{open:V,onClose:()=>u(!1),title:"Add new vendor",children:[e.jsx(r.Section,{children:e.jsxs(o,{gap:"300",children:[e.jsx(t,{label:"Vendor name",value:"",onChange:()=>{},placeholder:"Enter vendor name"}),e.jsx(t,{label:"Email",type:"email",value:"",onChange:()=>{},placeholder:"vendor@example.com"}),e.jsx(t,{label:"Phone",value:"",onChange:()=>{},placeholder:"+1 (555) 123-4567"}),e.jsx(t,{label:"Lead time (days)",type:"number",value:"",onChange:()=>{},placeholder:"30"}),e.jsx(t,{label:"Minimum order value",type:"number",value:"",onChange:()=>{},placeholder:"1000",prefix:"$"}),e.jsx(t,{label:"Payment terms",value:"",onChange:()=>{},placeholder:"Net 30"}),e.jsx(t,{label:"Notes",multiline:!0,value:"",onChange:()=>{},placeholder:"Additional notes about this vendor"})]})}),e.jsx(r.Section,{children:e.jsxs(m,{align:"end",gap:"200",children:[e.jsx(i,{onClick:()=>u(!1),children:"Cancel"}),e.jsx(i,{primary:!0,children:"Create vendor"})]})})]}),e.jsxs(r,{open:k,onClose:()=>x(!1),title:`Edit ${l==null?void 0:l.name}`,children:[l&&e.jsx(r.Section,{children:e.jsxs(o,{gap:"300",children:[e.jsx(t,{label:"Vendor name",value:l.name,onChange:()=>{}}),e.jsx(t,{label:"Email",type:"email",value:l.email,onChange:()=>{}}),e.jsx(t,{label:"Phone",value:l.phone||"",onChange:()=>{}}),e.jsx(t,{label:"Lead time (days)",type:"number",value:l.leadTimeDays.toString(),onChange:()=>{}}),e.jsx(t,{label:"Minimum order value",type:"number",value:l.minimumOrderValue.amount.toString(),onChange:()=>{},prefix:"$"}),e.jsx(t,{label:"Payment terms",value:l.paymentTerms,onChange:()=>{}}),e.jsx(t,{label:"Notes",multiline:!0,value:l.notes||"",onChange:()=>{}})]})}),e.jsx(r.Section,{children:e.jsxs(m,{align:"end",gap:"200",children:[e.jsx(i,{onClick:()=>x(!1),children:"Cancel"}),e.jsx(i,{primary:!0,children:"Save changes"})]})})]}),e.jsxs(r,{open:T,onClose:()=>j(!1),title:`Delete ${l==null?void 0:l.name}`,children:[l&&e.jsx(r.Section,{children:e.jsxs(h,{as:"p",children:["Are you sure you want to delete ",l.name,"? This action cannot be undone."]})}),e.jsx(r.Section,{children:e.jsxs(m,{align:"end",gap:"200",children:[e.jsx(i,{onClick:()=>j(!1),children:"Cancel"}),e.jsx(i,{tone:"critical",children:"Delete vendor"})]})})]})]})]})}export{oe as default};
