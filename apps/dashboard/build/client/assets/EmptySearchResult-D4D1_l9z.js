import{r as g,R as t}from"./index-DZoorY08.js";import{f as N,H as ue,o as de,B as me,i as ge,D as fe,u as ke,A as J,E as K,T as I,n as R,y as he,J as Ae,I as D,v as M,K as pe,w as be}from"./Page-CO1VPtMw.js";import{C as ye}from"./Checkbox-drAGhQ4I.js";function Le({alt:n,sourceSet:e,source:a,crossOrigin:r,onLoad:c,className:i,...d}){const f=e?e.map(({source:m,descriptor:u})=>`${m} ${u}`).join(","):null,l=g.useCallback(()=>{c&&c()},[c]);return t.createElement("img",Object.assign({alt:n,src:a,crossOrigin:r,className:i,onLoad:l},f?{srcSet:f}:{},d))}function V(n=[],e,a,r){const c=a.reduce((l,m)=>l+m,0),i=n.map((l,m)=>m),d=[],f=[];if(r>c)d.push(...i);else{let l=0,m=!1;i.forEach(u=>{const k=a[u];if(l+k>=r-e||m){f.push(u),m=!0;return}d.push(u),l+=k})}return{visiblePromotedActions:d,hiddenPromotedActions:f}}function Be(n){const e=n.filter(a=>a.items);return n.length===e.length}function ve(n){const e=n.filter(a=>!a.items);return n.length===e.length}function O(n){return"title"in n&&"actions"in n}function Ee(n){return"items"in n}function Pe(n){if(!(!n||n.length===0)){if(Be(n))return n;if(ve(n))return[{items:n}]}}function q(n){var e;if(!n)return!1;for(const a of n)for(const r of a.items)if(((e=r.badge)==null?void 0:e.tone)==="new")return!0;return!1}var A={BulkActionsOuterLayout:"Polaris-BulkActions__BulkActionsOuterLayout",BulkActionsSelectAllWrapper:"Polaris-BulkActions__BulkActionsSelectAllWrapper",BulkActionsPromotedActionsWrapper:"Polaris-BulkActions__BulkActionsPromotedActionsWrapper",BulkActionsLayout:"Polaris-BulkActions__BulkActionsLayout","BulkActionsLayout--measuring":"Polaris-BulkActions--bulkActionsLayoutMeasuring",BulkActionsMeasurerLayout:"Polaris-BulkActions__BulkActionsMeasurerLayout",BulkActionButton:"Polaris-BulkActions__BulkActionButton",AllAction:"Polaris-BulkActions__AllAction"},G={Indicator:"Polaris-Indicator",pulseIndicator:"Polaris-Indicator--pulseIndicator"};function Se({pulse:n=!0}){const e=N(G.Indicator,n&&G.pulseIndicator);return t.createElement("span",{className:e})}function v({handleMeasurement:n,url:e,external:a,onAction:r,content:c,disclosure:i,accessibilityLabel:d,disabled:f,destructive:l,indicator:m,showContentInButton:u,size:k}){const p=g.useRef(null);ue(()=>{if(n&&p.current){const B=p.current.getBoundingClientRect().width;n(B)}});const h=i&&!u,E=h?void 0:c,L=t.createElement(me,{external:a,url:e,accessibilityLabel:h?c:d,tone:l?"critical":void 0,disclosure:i&&u,onClick:r,disabled:f,size:k,icon:h?t.createElement(ge,{source:fe,tone:"base"}):void 0},E);return t.createElement("div",{className:A.BulkActionButton,ref:p},h?t.createElement(de,{content:c,preferredPosition:"below"},L):L,m&&t.createElement(Se,null))}function Ce({title:n,actions:e,isNewBadgeInBadgeActions:a,size:r}){const{value:c,toggle:i}=ke(!1);return t.createElement(t.Fragment,null,t.createElement(J,{active:c,activator:t.createElement(v,{disclosure:!0,showContentInButton:!0,onAction:i,content:n,indicator:a,size:r}),onClose:i,preferInputActivator:!0},t.createElement(K,{items:e,onActionAnyItem:i})))}var w={CheckableButton:"Polaris-CheckableButton",Checkbox:"Polaris-CheckableButton__Checkbox",Label:"Polaris-CheckableButton__Label"};const Ie=g.forwardRef(function({accessibilityLabel:e,label:a="",onToggleAll:r,selected:c,disabled:i,ariaLive:d},f){const l=g.useRef(null);function m(){var u;(u=l==null?void 0:l.current)==null||u.focus()}return g.useImperativeHandle(f,()=>({focus:m})),t.createElement("div",{className:w.CheckableButton,onClick:r},t.createElement("div",{className:w.Checkbox},t.createElement(ye,{label:e,labelHidden:!0,checked:c,disabled:i,onChange:r,ref:l})),a?t.createElement("span",{className:w.Label,"aria-live":d},t.createElement(I,{as:"span",variant:"bodySm",fontWeight:"medium"},a)):null)}),Ne=4;function We({promotedActions:n=[],disabled:e,buttonSize:a,handleMeasurement:r}){const c=R(),i=g.useRef(null),d=c.translate("Polaris.ResourceList.BulkActions.moreActionsActivatorLabel"),f=t.createElement(v,{disclosure:!0,content:d}),l=g.useCallback(()=>{if(!i.current)return;const u=i.current.offsetWidth,k=i.current.children,h=Array.from(k).map(L=>Math.ceil(L.getBoundingClientRect().width)+Ne),E=h.pop()||0;r({containerWidth:u,disclosureWidth:E,hiddenActionsWidths:h})},[r]);g.useEffect(()=>{l()},[l,n]);const m=n.map((u,k)=>O(u)?t.createElement(v,{key:k,disclosure:!0,showContentInButton:!0,content:u.title,size:a}):t.createElement(v,Object.assign({key:k,disabled:e},u,{size:a})));return he("resize",l),t.createElement("div",{className:A.BulkActionsMeasurerLayout,ref:i},m,f)}const Fe=g.forwardRef(function({promotedActions:e,actions:a,disabled:r,buttonSize:c,paginatedSelectAllAction:i,paginatedSelectAllText:d,label:f,accessibilityLabel:l,selected:m,onToggleAll:u,onMoreActionPopoverToggle:k,width:p,selectMode:h},E){const L=R(),[B,X]=g.useState(!1),[Y,T]=g.useReducer((o,s)=>({...o,...s}),{disclosureWidth:0,containerWidth:1/0,actionsWidths:[],visiblePromotedActions:[],hiddenPromotedActions:[],hasMeasured:!1}),{visiblePromotedActions:x,hiddenPromotedActions:Z,containerWidth:S,disclosureWidth:z,actionsWidths:F,hasMeasured:ee}=Y;g.useEffect(()=>{if(S===0||!e||e.length===0)return;const{visiblePromotedActions:o,hiddenPromotedActions:s}=V(e,z,F,S);T({visiblePromotedActions:o,hiddenPromotedActions:s,hasMeasured:S!==1/0})},[S,z,e,F]);const te=!e||e&&x.length===0?L.translate("Polaris.ResourceList.BulkActions.actionsActivatorLabel"):L.translate("Polaris.ResourceList.BulkActions.moreActionsActivatorLabel"),ne=i?t.createElement(Ae,{className:A.AllAction,onClick:i.onAction,size:"slim",disabled:r},t.createElement(I,{as:"span",variant:"bodySm",fontWeight:"medium"},i.content)):null,H=d&&i,ae={accessibilityLabel:l,label:H?d:f,selected:m,onToggleAll:u,disabled:r,ariaLive:H?"polite":void 0,ref:E},W=g.useCallback(()=>{k==null||k(B),X(o=>!o)},[k,B]),ie=g.useCallback(o=>{const{hiddenActionsWidths:s,containerWidth:b,disclosureWidth:C}=o;if(!e||e.length===0)return;const{visiblePromotedActions:le,hiddenPromotedActions:oe}=V(e,C,s,b);T({visiblePromotedActions:le,hiddenPromotedActions:oe,actionsWidths:s,containerWidth:b,disclosureWidth:C,hasMeasured:!0})},[e]),P=Pe(a),j=e?e.filter((o,s)=>!!x.includes(s)).map((o,s)=>O(o)?t.createElement(Ce,Object.assign({key:s},o,{isNewBadgeInBadgeActions:q(P),size:c})):t.createElement(v,Object.assign({key:s,disabled:r},o,{size:c}))):null,$={items:Z.map(o=>e==null?void 0:e[o]).reduce((o,s)=>s?O(s)?o.concat(s.actions):o.concat(s):o,[])},_=g.useMemo(()=>{if(P)return P;if(!a)return[];let o=!0;return a.filter(s=>s).reduce((s,b)=>{if(Ee(b))return o=!1,s.concat(b);if(o){if(s.length===0)return[{items:[b]}];const C=s[s.length-1];return s.splice(s.length-1,1,{items:[...C.items,b]}),s}return o=!0,s.concat({items:[b]})},[])},[a,P]),se=t.createElement(v,{disclosure:!0,showContentInButton:!j,onAction:W,content:te,disabled:r,indicator:q(P),size:c}),re=_.length>0?t.createElement(J,{active:B,activator:se,preferredAlignment:"right",onClose:W},t.createElement(K,{sections:$.items.length>0?[$,..._]:_,onActionAnyItem:W})):null,ce=t.createElement(We,{promotedActions:e,disabled:r,buttonSize:c,handleMeasurement:ie});return t.createElement("div",{className:A.BulkActions,style:p?{width:p}:void 0},t.createElement(D,{gap:"400",blockAlign:"center"},t.createElement("div",{className:A.BulkActionsSelectAllWrapper},t.createElement(Ie,ae),ne),h?t.createElement("div",{className:A.BulkActionsPromotedActionsWrapper},t.createElement(D,{gap:"100",blockAlign:"center"},t.createElement("div",{className:A.BulkActionsOuterLayout},ce,t.createElement("div",{className:N(A.BulkActionsLayout,!ee&&A["BulkActionsLayout--measuring"])},j)),re)):null))});var y={LegacyStack:"Polaris-LegacyStack",Item:"Polaris-LegacyStack__Item",noWrap:"Polaris-LegacyStack--noWrap",spacingNone:"Polaris-LegacyStack--spacingNone",spacingExtraTight:"Polaris-LegacyStack--spacingExtraTight",spacingTight:"Polaris-LegacyStack--spacingTight",spacingBaseTight:"Polaris-LegacyStack--spacingBaseTight",spacingLoose:"Polaris-LegacyStack--spacingLoose",spacingExtraLoose:"Polaris-LegacyStack--spacingExtraLoose",distributionLeading:"Polaris-LegacyStack--distributionLeading",distributionTrailing:"Polaris-LegacyStack--distributionTrailing",distributionCenter:"Polaris-LegacyStack--distributionCenter",distributionEqualSpacing:"Polaris-LegacyStack--distributionEqualSpacing",distributionFill:"Polaris-LegacyStack--distributionFill",distributionFillEvenly:"Polaris-LegacyStack--distributionFillEvenly",alignmentLeading:"Polaris-LegacyStack--alignmentLeading",alignmentTrailing:"Polaris-LegacyStack--alignmentTrailing",alignmentCenter:"Polaris-LegacyStack--alignmentCenter",alignmentFill:"Polaris-LegacyStack--alignmentFill",alignmentBaseline:"Polaris-LegacyStack--alignmentBaseline",vertical:"Polaris-LegacyStack--vertical","Item-fill":"Polaris-LegacyStack__Item--fill"};function U({children:n,fill:e}){const a=N(y.Item,e&&y["Item-fill"]);return t.createElement("div",{className:a},n)}const Q=g.memo(function({children:e,vertical:a,spacing:r,distribution:c,alignment:i,wrap:d}){const f=N(y.LegacyStack,a&&y.vertical,r&&y[M("spacing",r)],c&&y[M("distribution",c)],i&&y[M("alignment",i)],d===!1&&y.noWrap),l=pe(e).map((m,u)=>be(m,U,{key:u}));return t.createElement("div",{className:f},l)});Q.Item=U;var _e="data:image/svg+xml,%3csvg width='60' height='60' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill-rule='evenodd' d='M41.87 24a17.87 17.87 0 11-35.74 0 17.87 17.87 0 0135.74 0zm-3.15 18.96a24 24 0 114.24-4.24L59.04 54.8a3 3 0 11-4.24 4.24L38.72 42.96z' fill='%238C9196'/%3e%3c/svg%3e",Me=_e;function He({title:n,description:e,withIllustration:a}){const c=R().translate("Polaris.EmptySearchResult.altText"),i=e?t.createElement("p",null,e):null,d=a?t.createElement(Le,{alt:c,source:Me,draggable:!1}):null;return t.createElement(Q,{alignment:"center",vertical:!0},d,t.createElement(I,{variant:"headingLg",as:"p"},n),t.createElement(I,{tone:"subdued",as:"span"},i))}export{Fe as B,Ie as C,He as E,Le as I,Q as L};
