# 2025-09-27 MCP Agent Notes

## Next
- Align with Program Manager on the target secret manager (Shopify Vault vs AWS KMS) and required audit log schema before swapping off mocks.
- Prep Vitest coverage that runs with `USE_MOCK_DATA=false` once a secrets adapter is available.

## Updates â€“ 2025-09-27
- Documented MCP credential persistence strategy in `docs/mcp-secure-persistence.md`, including current mock storage, production requirements, migration steps, and outstanding dependencies.
- Normalized `StoreSettingsRepository` to treat `USE_MOCK_DATA` as enabled by default and scrubbed route Vitest suites to reset the flag after live-mode tests; MCP config tests now run without `DATABASE_URL` leaks.
